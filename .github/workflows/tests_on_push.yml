  name: CI
  on:
    push:
      branches:
        - master
  jobs:
    run_tests:
      runs-on: [ubuntu-latest]
      steps:
        - uses: actions/checkout@master
        - uses: actions/setup-python@v1
          with:
            python-version: 3.10.4
            architecture: 'x64'
        - name: Install requirements
          run: pip install -r requirements.txt
        - name: Build image
          run: docker build -t postgres-app
        - name: Docker-compose build
          run: docker-compos build
        - name: Docker-compose up
          run: docker-compose up
